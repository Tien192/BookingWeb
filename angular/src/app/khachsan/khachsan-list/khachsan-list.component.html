<div class="container">
  <div class="row">
    <div class="col-lg-3">
      <!-- Form sắp xếp -->
      <div class="SapXep">
        <form
          class="card flex flex-column gap-4 FormSapXep"
          [formGroup]="formSapXep"
        >
          <p style="font-size: 18px; font-weight: 700">Sắp xếp kết quả</p>
          <hr style="margin: 0" />
          <div *ngFor="let sapxep of sapxeps" class="field-checkbox">
            <p-radioButton
              [inputId]="sapxep.key"
              [value]="sapxep"
              formControlName="selectedCategory"
            ></p-radioButton>
            <label [for]="sapxep.key" class="ml-2">{{ sapxep.name }}</label>
          </div>
        </form>
      </div>
      <!-- End form sắp xếp -->
      <!-- Form lọc -->
      <div class="card Loc">
        <form class="FormLoc" [formGroup]="formLoc" (ngSubmit)="onSubmit()">
          <div>
            <p style="font-size: 18px; font-weight: 700">Lọc kết quả</p>

            <div style="font-size: 12px; font-weight: 500; color: gray">
              Hiển thị kết quả phân loại theo:
            </div>
          </div>

          <hr />
          <!-- Miễn phí hủy phòng -->
          <div class="MienPhiHuyPhong">
            <p>Chính sách đặt phòng</p>
            <div class="CheckboxMienPhiHuyPhong">
              <p-checkbox
                formControlName="mienphihuyphong"
                binary="true"
                inputId="fc"
              ></p-checkbox>
              <label for="fc">Miễn phí hủy phòng</label>
            </div>
          </div>
          <hr style="margin: 21px 0" />
          <!-- End miễn phí hủy phòng -->
          <!-- Khoảng giá phòng cần tìm -->
          <div class="MoneyRange">
            <p>Khoảng giá phòng mỗi đêm</p>
            <div class="MoneyRangeInput flex w-full">
              <input
                class="col-lg-4"
                type="number"
                pInputText
                placeholder="Giá bé nhất"
                formControlName="inputminprice"
                [ngModel]="rangeValues[0]"
              />
              <hr class="col-lg-2" style="border: 1px solid; margin: 5% 0" />
              <input
                class="col-lg-4"
                type="number"
                pInputText
                placeholder="Giá lớn nhất"
                formControlName="inputmaxprice"
                [ngModel]="rangeValues[1]"
              />
            </div>
            <p-slider
              class="w-full"
              formControlName="inputprice"
              [ngModel]="rangeValues"
              [range]="true"
              [min]="0"
              [max]="maxPrice"
            ></p-slider>
          </div>
          <!-- End khoảng giá phòng cần tìm -->
          <hr />
          <!-- Số sao khách sạn cần tìm -->
          <div formGroupName="LocSaoData" class="CheckboxLocSao">
            <p>Hạng sao</p>
            <div class="CheckboxLocSaoItem" *ngFor="let star of stars">
              <p-checkbox
                formControlName="value{{ star }}"
                [value]="star"
              ></p-checkbox>
              <p-rating
                [readonly]="true"
                [cancel]="false"
                formControlName="numberStar{{ star }}"
              ></p-rating>
            </div>
          </div>
          <!-- End số sao khách sạn cần tìm -->
          <!-- Loại hình cư trú -->
          <div formGroupName="LocLoaiHinhCuTru" class="CheckboxLoaiHinhCuTru">
            <ul class="LocLoaiHinhCuChuItem">
              <li *ngFor="let option of loaiHinhCuTruOptions">
                <div class="p-field-checkbox">
                  <p-checkbox
                    [binary]="true"
                    [id]="'checkbox_' + option.value"
                    [name]="option.value.toString()"
                    [formControlName]="option.value.toString()"
                    (onChange)="onCheckboxChange(option.value)"
                  ></p-checkbox>
                  <label [for]="'checkbox_' + option.value">{{
                    option.label
                  }}</label>
                </div>
              </li>
            </ul>
          </div>
          <!-- End loại hình cư trú -->

          <p-button
            type="submit"
            [disabled]="!formLoc.valid"
            label="Lọc"
          ></p-button>
        </form>
      </div>
      <!-- End form lọc -->
    </div>

    <div class="col-lg-8">
      <pre>
        {{ formSapXep.value | json }}
      </pre>
      <pre>
        {{ formLoc.value | json }}
      </pre>
      <p-table
        [value]="listkhachsan"
        [rows]="5"
        [paginator]="true"
        [pageLinks]="3"
      >
        <ng-template pTemplate="body" let-item let-i="rowIndex">
          <tr
            [routerLink]="['/app/khachsanstart', item?.phongId]"
            style="cursor: pointer"
          >
            <!-- Image Khach San -->
            <td>
              <div
                class="slide-image"
                [ngStyle]="{
                  'background-image': getCurrentSlideUrl(i)
                }"
                tabindex="0"
              ></div>
            </td>
            <!-- Details Khach San-->
            <td>
              <!-- Ten Loai Don Vi -->
              <p style="font-weight: 700">
                {{ listkhachsan[i]?.hinhThucPhong }}
                <br />
                {{ listkhachsan[i]?.tenDonVi }}
              </p>
              <!--Dia Diem -->
              <div class="DiaDiem">
                <div style="display: flex; padding-bottom: 3px">
                  <p class="HinhThucPhongTitle">
                    {{ listkhachsan[i]?.hinhThucPhong }}
                  </p>
                  <p-rating
                    [iconOnStyle]="{ color: '#FFD200', fontSize: '15px' }"
                    [ngModel]="listkhachsan[i]?.danhGiaSaoTb"
                    [readonly]="true"
                    [cancel]="false"
                  ></p-rating>
                </div>
                <i class="pi pi-map-marker"></i>
                {{ listkhachsan[i]?.diaChiChiTiet }}
              </div>
              <!-- Content of "Danh Gia Phong" -->
              <div class="DanhGiaPhong">
                <p>Điểm đánh giá</p>
                <h6>{{ listkhachsan[i]?.diemDanhGiaTB }}/10</h6>
              </div>
            </td>
            <!-- Content of "Gia Phong" -->
            <td>
              <div class="GiaPhong">
                <p>Thanh toán khi nhận phòng</p>
                <h6>VNĐ:{{ listkhachsan[i]?.giaPhongThapNhat }}</h6>
                <p>Giá cuối cùng</p>
              </div>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
</div>
